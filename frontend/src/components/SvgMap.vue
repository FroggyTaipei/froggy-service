<template>
  <div class="svg-map report-region">
    <div class="region-chart">
      <svg
        width="413px"
        height="553px"
        viewBox="0 -10 450 570"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <title></title>
        <desc>
          Created with Sketch.
        </desc>
        <g
          id="Page-1"
          stroke="none"
          stroke-width="1"
          fill="none"
          fill-rule="evenodd"
        >
          <g id="TaipeiMap" transform="translate(-1.000000, -1.000000)">
            <g id="background">
              <rect
                id="canvas_background"
                x="0"
                y="0"
                width="415"
                height="552"
              />
            </g>
            <g
              id="districts"
              transform="translate(1.000000, 2.000000)"
              fill="#E5E5E5"
              stroke="#000000"
            >
              <path
                d="M94.88095,248.57284 C80.68525,247.43439 79.20057,245.75148 79.12212,230.70997 C79.04854,216.5997 77.07671,211.89377 69.83969,208.55681 C65.01451,206.33192 64.67392,206.32857 56.02501,208.42075 C51.14788,209.60057 44.1689,211.80791 40.5162,213.326 C31.06839,217.25257 26.16135,217.905 21.87847,215.80404 C16.68608,213.25692 8.80478,207.12672 9.67075,206.30867 C10.07629,205.9256 9.49302,204.74781 8.3747,203.69136 C7.18654,202.56897 6.34137,199.8208 6.34137,197.08006 C6.34137,192.80534 6.67928,192.32574 10.15362,191.66932 C14.16214,190.91198 16.7459,187.80972 16.21282,184.39416 C15.34749,178.84971 18.10374,172.74377 24.65288,165.69696 C28.39621,161.66915 31.45898,157.96368 31.45898,157.46262 C31.45898,156.33597 38.4077,148.54699 45.75832,141.43414 C48.79275,138.49782 51.65862,134.89417 52.12687,133.42601 C52.67892,131.695 53.96387,130.75663 55.78211,130.75663 C58.87117,130.75663 61.60012,128.72746 61.60012,126.43056 C61.60012,121.67464 77.92836,101.09688 81.70212,101.09688 C82.28138,101.09688 83.39318,99.27102 84.17281,97.03942 C84.95249,94.80782 86.35002,92.38635 87.27855,91.6584 C88.20707,90.93042 89.33404,88.4853 89.78297,86.22474 C90.62581,81.98043 92.1284,81.01616 93.87664,83.59764 C94.429,84.41328 97.35214,86.27335 100.37245,87.73112 C105.55542,90.2327 106.05778,90.27348 109.31363,88.45662 C112.49752,86.67992 113.22776,86.68111 118.7917,88.47204 C122.10735,89.53925 124.97131,90.26961 125.15614,90.095 C127.09491,88.2635 130.67355,77.20099 130.67355,73.03921 C130.67355,69.17471 131.54351,66.64219 133.85406,63.78054 C136.69435,60.26278 137.90176,59.75367 145.14144,59.02128 C152.18193,58.30902 153.59206,57.74516 155.86115,54.73483 C157.76176,52.21336 159.50835,51.26851 162.26874,51.26851 C167.02854,51.26851 170.76315,47.28664 170.81994,42.15123 C170.84291,40.07304 171.38568,37.07085 172.02607,35.47969 C173.37606,32.12538 181.42889,27.02014 183.93618,27.92904 C184.87545,28.26952 186.90389,27.71443 188.44382,26.6955 C190.84016,25.10992 191.15111,24.06703 190.60137,19.45954 C190.15071,15.68253 190.50091,13.56429 191.77499,12.36072 C192.77371,11.41722 193.90073,9.18211 194.27926,7.39382 C194.74657,5.18648 196.35372,3.51802 199.28382,2.19806 C205.48146,-0.59388 206.59869,-0.27792 208.14079,4.70271 C208.89846,7.14964 210.12935,10.7533 210.87634,12.71084 C211.62322,14.66839 212.52783,17.67825 212.88651,19.39944 C213.36826,21.7106 214.88888,23.03916 218.70211,24.48051 C221.6238,25.58487 224.14121,27.4283 224.50064,28.72671 C224.84989,29.98875 226.19633,31.33928 227.49253,31.7279 C229.5106,32.33301 228.92637,33.25728 223.42586,38.16159 C217.13704,43.76883 217.01999,43.99823 217.83392,49.12518 C218.86311,55.60902 214.06302,67.16713 209.91547,68.19174 C205.7079,69.23114 204.00881,74.25549 205.88371,80.11412 C207.87554,86.33813 207.88182,87.0161 206.03128,96.02166 C204.63613,102.81158 204.17848,103.51832 200.32444,104.83485 C197.35365,105.84966 195.19831,107.89094 192.91713,111.85019 C191.14768,114.9214 189.69993,118.08599 189.69993,118.88255 C189.69993,119.67913 188.06168,122.28488 186.05935,124.67313 C183.43732,127.80051 182.16179,130.95843 181.50027,135.96011 C180.4066,144.22893 177.23695,147.52082 170.00991,147.89348 C167.21418,148.03763 163.17082,149.4652 160.32545,151.31271 C157.63879,153.05716 154.91666,154.48443 154.27623,154.48443 C153.63584,154.48443 151.09595,155.93693 148.63207,157.71221 L144.15233,160.94002 L144.86521,171.33419 C145.30205,177.70382 145.09395,182.01095 144.32773,182.45829 C143.64007,182.85979 142.56112,184.47111 141.9301,186.039 C141.24499,187.74125 139.76796,188.88973 138.26385,188.88973 C136.53662,188.88973 135.50707,189.91518 134.98817,192.1523 C134.57193,193.94671 133.35022,197.06605 132.27321,199.08414 C130.4801,202.44407 130.50021,203.21151 132.51187,208.18748 C134.74033,213.6997 134.38685,216.17669 131.37181,216.17669 C128.91626,216.17669 126.09323,220.86499 125.05572,226.66611 C124.55417,229.47049 123.42325,232.02619 122.54254,232.34544 C121.66187,232.66469 119.95744,234.98693 118.75498,237.50595 C116.96487,241.2561 115.17272,242.68607 108.86453,245.39774 C99.61206,249.37503 100.98801,249.0626 94.88095,248.57284 L94.88095,248.57284 Z"
                id="beitou"
                data-name-zh="北投區"
                class="district"
                fill-rule="nonzero"
              />
              <path
                d="M130.67355,291.3904 C130.67355,290.8017 129.1194,289.71257 127.21987,288.9701 C125.32036,288.22763 122.27858,286.84171 120.46036,285.89026 C117.6287,284.40847 116.54787,284.39334 112.92507,285.78464 C110.59891,286.67798 105.86991,287.72733 102.41623,288.11651 L96.13683,288.8241 L91.11331,279.1037 C87.64566,272.39388 83.63529,267.01096 78.16484,261.72362 C73.80608,257.51078 68.4657,251.94777 66.29723,249.36136 C59.75571,241.55905 49.31209,237.74257 30.27961,236.19928 C13.20868,234.81506 11.50938,234.15614 4.38615,226.15909 L0.99153,222.34808 L3.28883,217.36373 C7.71631,207.75748 7.80376,207.71798 13.34562,212.82192 C19.75455,218.72444 25.17103,220.47993 31.95703,218.85394 C37.21827,217.5933 42.8905,215.32779 44.01779,214.03686 C45.4225,212.42823 63.16743,208.04364 65.77293,208.66141 C67.31519,209.02707 70.16276,210.88979 72.10085,212.80078 C75.8888,216.5358 77.80056,225.30641 77.88548,239.3393 C77.92447,245.78564 78.13387,246.23184 82.00818,248.12449 C87.44679,250.78133 101.79013,252.25888 104.30006,250.42084 C105.33616,249.66209 109.01259,247.83616 112.46992,246.36321 C117.90238,244.04876 119.30662,242.68733 122.81138,236.33697 C125.04182,232.29548 127.20542,227.57346 127.61928,225.84353 C128.41284,222.5265 132.46465,217.71815 134.46619,217.71815 C136.85785,217.71815 137.15766,211.77871 135.03151,206.51947 C133.022,201.54879 133.01296,200.9407 134.90815,198.2083 C136.03278,196.58688 136.95295,194.41287 136.95295,193.37719 C136.95295,192.34152 138.57422,190.96025 140.55578,190.30769 C145.9458,188.53269 148.00592,182.45316 147.27259,170.48611 C146.88103,164.09635 147.13162,160.77145 148.00481,160.77145 C148.73494,160.77145 150.07915,160.10028 150.9919,159.27997 C154.62936,156.01091 169.1572,149.71904 172.57974,149.93046 C178.08672,150.27064 182.82854,144.90674 183.78832,137.25143 C184.29786,133.18716 185.87753,129.29687 188.45559,125.7571 C190.59898,122.8142 192.9327,118.67753 193.64151,116.56452 C195.69739,110.43692 197.54316,107.3839 199.19214,107.3839 C202.56882,107.3839 206.48302,102.70485 208.68735,96.0333 C211.46171,87.63662 211.56896,84.06764 209.16609,80.09693 C206.32214,75.39729 206.04865,72.79197 210.73594,69.37265 C214.69201,66.48673 215.57889,65.35683 218.06331,59.23375 C221.02515,51.93403 219.88439,48.65756 218.35216,46.26925 C217.94363,45.63246 218.36699,45.77878 218.46745,45.09431 C218.58519,44.29206 218.69634,44.39401 218.94104,44.09741 C219.26044,43.7103 221.87672,42.16665 225.12569,39.30838 C230.7077,34.39745 238.24876,31.51675 241.12561,33.19634 C241.75695,33.56491 242.62839,33.32385 243.06218,32.66069 C243.49608,31.99753 244.81953,31.45495 246.0032,31.45495 C247.53788,31.45495 248.55452,33.07138 249.54729,37.0903 C250.77467,42.0595 250.64945,43.1119 248.48771,45.99311 C247.13926,47.79021 246.16872,50.45959 246.33061,51.92507 C246.49262,53.39053 245.91428,55.98021 245.04546,57.67991 C243.6876,60.33629 243.83518,61.45426 246.09601,65.64079 C247.54265,68.31957 248.72633,71.14832 248.72633,71.92691 C248.72633,72.7055 245.90059,76.165 242.44692,79.61469 C237.38057,84.67523 236.16752,86.68634 236.16752,90.02549 C236.16752,92.30175 237.0548,95.00227 238.13912,96.02668 C240.53145,98.28658 245.51052,99.58824 248.13028,98.63859 C249.22203,98.24285 250.97045,98.95595 252.17975,100.29024 C253.47933,101.72399 255.8763,102.63834 258.33544,102.63834 C262.14026,102.63834 262.4747,103.00183 264.38627,109.21365 C266.35148,115.60021 266.33038,115.92221 263.64745,120.43175 C260.66372,125.44682 261.41386,127.86451 266.41917,129.36523 C267.73659,129.76025 269.18789,131.51603 269.64415,133.26695 C270.10029,135.01788 271.14266,137.5182 271.9605,138.82323 C272.77832,140.12826 274.20488,143.50129 275.13071,146.31887 C276.43156,150.27794 278.40253,152.5805 283.80621,156.45432 C290.57013,161.30333 290.81076,161.67021 291.17998,167.69885 C291.504,172.99268 292.02708,174.13122 294.65425,175.26201 L297.74711,176.59318 L294.99573,179.35983 C293.48239,180.88148 291.25296,182.12646 290.04116,182.12646 C287.00042,182.12646 283.89099,185.32913 283.89099,188.46093 C283.89099,189.89414 282.5168,192.97718 280.83718,195.31211 C279.15769,197.64703 277.30401,201.30528 276.71802,203.44151 C275.80436,206.7726 275.03225,207.37966 271.29462,207.70547 C268.89765,207.91441 265.8063,208.34335 264.42483,208.65863 C263.04337,208.9739 261.19898,209.27273 260.32614,209.32265 C259.4533,209.37258 257.37583,212.22935 255.7094,215.67103 C253.15545,220.94571 251.73366,222.33964 246.65889,224.54513 C242.72736,226.25369 240.2112,226.75821 239.40757,225.99906 C237.57097,224.26421 232.32025,224.69187 227.49052,226.96965 C223.07811,229.05063 222.70611,229.50313 219.27643,236.96174 C217.62897,240.54447 216.27701,241.62216 212.09593,242.68573 C209.26292,243.40636 205.70438,243.70184 204.18803,243.34233 C201.27363,242.65132 198.42454,245.4014 194.35725,252.83172 C192.76165,255.74665 190.68136,257.03712 184.29143,259.0761 C176.91092,261.43117 175.93323,261.4966 172.60743,259.85812 C164.57409,255.90045 160.02216,258.04644 144.89747,272.92183 C139.94201,277.79557 135.34004,281.7832 134.67081,281.7832 C132.78811,281.7832 131.9203,285.00266 132.7485,288.91452 C133.2262,291.17071 132.98531,292.46071 132.08641,292.46071 C131.30933,292.46071 130.67355,291.97906 130.67355,291.39039 L130.67355,291.3904 L130.67355,291.3904 Z"
                id="shilin"
                data-name-zh="士林區"
                class="district"
                fill-rule="nonzero"
              />
              <path
                d="M228.52059,346.73805 C228.4593,345.92241 228.48593,342.85262 228.57999,339.9163 C228.67405,336.98 227.68241,331.64124 226.37629,328.05241 L224.00168,321.52727 L226.92875,315.59532 C230.39059,308.57968 230.5958,304.85717 227.87531,298.43401 C226.32016,294.76247 224.30095,292.8378 218.99573,289.97043 C214.14503,287.34873 211.52425,284.99244 210.0692,281.94496 C207.26042,276.0619 204.81773,273.47848 202.06408,273.47848 C200.633,273.47848 199.74698,272.62505 199.74698,271.24651 C199.74698,270.01894 197.76897,267.58932 195.3514,265.84738 C190.3479,262.24217 190.0842,261.32168 193.15361,258.17524 C194.3624,256.9361 196.76427,254.0145 198.4911,251.68275 C200.21794,249.351 202.57673,247.42852 203.73277,247.41056 C204.88893,247.39261 208.73721,246.745 212.28469,245.97146 C218.86814,244.53591 220.23228,243.01329 223.98523,232.91104 C224.39577,231.80568 227.05862,230.24271 229.90256,229.43779 C234.31698,228.18839 235.57964,228.25681 238.53435,229.90568 C241.7955,231.72547 242.11662,231.70335 244.09275,229.52316 C245.24616,228.25053 246.96696,227.20928 247.91678,227.20928 C250.98741,227.20928 256.23172,222.39508 258.68584,217.32372 C260.65054,213.2635 262.02283,212.10501 266.36014,210.84494 C271.26147,209.42098 273.05839,209.61288 273.32124,211.58848 C273.37926,212.02347 274.08557,213.88231 274.8911,215.71921 C275.69674,217.5561 276.35571,219.76032 276.35571,220.61748 C276.35571,221.50851 281.06186,223.73446 287.34466,225.81505 C293.38858,227.81654 301.38402,230.49532 305.11235,231.76785 C308.84068,233.0404 313.72945,235.87201 315.97647,238.06035 C325.25378,247.09556 328.74161,249.75068 331.33326,249.75068 C333.68815,249.75068 333.90806,250.13821 332.93111,252.5657 C331.72935,255.55196 333.81651,263.00011 337.23765,267.93244 C338.78163,270.15854 338.80374,271.24313 337.38434,275.1433 C336.46541,277.66818 334.81569,280.20871 333.71817,280.78896 C332.62065,281.36922 330.72503,284.90009 329.50595,288.63533 C328.28711,292.37059 326.56719,295.85362 325.6843,296.37543 C324.73536,296.93637 324.07916,299.70779 324.07916,303.15544 C324.07916,307.7323 323.54981,309.25433 321.61826,310.23084 C320.2648,310.91512 318.26179,313.25781 317.1673,315.43682 C315.57685,318.60278 314.58835,319.29229 312.24613,318.86932 C310.01958,318.46726 308.508,319.33967 305.9573,322.49872 C302.12662,327.2431 296.34542,329.7606 286.40274,331.014 C282.60371,331.49293 278.58514,332.33612 277.47268,332.88778 C275.77636,333.72891 275.47244,333.18044 275.58886,329.4886 C275.71206,325.5855 275.35601,325.04569 272.44879,324.72696 C269.72741,324.42864 268.7855,325.13499 266.91047,328.87932 C262.12444,338.43692 257.56145,341.36729 240.63343,345.75445 C229.50507,348.63854 228.66878,348.70644 228.52059,346.73805 L228.52059,346.73805 Z"
                id="neihu"
                data-name-zh="內湖區"
                class="district"
                fill-rule="nonzero"
              />
              <path
                d="M145.96327,359.53769 C140.90331,357.99003 134.00435,356.36533 130.63224,355.92721 C124.51454,355.13236 124.50308,355.12243 125.38955,351.37923 C125.87818,349.31597 126.13203,342.82296 125.95368,336.95033 C125.0761,308.0534 125.28393,302.58124 127.44086,297.79947 C129.47513,293.28968 129.67099,293.16832 131.38338,295.35685 C132.37447,296.62346 133.18531,298.09162 133.18531,298.61941 C133.18531,299.14722 134.10985,299.57905 135.23983,299.57905 C136.93781,299.57905 137.16604,298.69473 136.55499,294.48326 C136.14836,291.68056 135.46488,288.52401 135.03619,287.46868 C134.58097,286.34797 134.95869,285.38339 135.94442,285.14953 C136.87262,284.92934 142.46183,279.68717 148.36489,273.50028 C160.58186,260.69588 164.08794,258.96929 171.30385,262.20399 C175.81121,264.22454 176.85417,264.13579 184.9055,261.04657 C186.43971,260.4579 187.54556,261.1989 188.94327,263.7522 C190.00192,265.68615 192.22865,267.59108 193.89144,267.98533 C195.94217,268.47153 197.14718,269.80036 197.63748,272.11604 C198.19458,274.74711 199.23923,275.69601 202.19332,276.25413 C205.21433,276.82491 206.02638,277.5937 206.02638,279.88293 C206.02638,283.61799 211.13292,289.34116 216.2534,291.34476 L220.25187,292.90934 L215.44172,296.83738 C212.79608,298.99782 209.949,300.76544 209.11498,300.76544 C208.28107,300.76544 205.12554,299.49419 202.10301,297.94045 C199.08036,296.38669 195.03253,294.77002 193.10789,294.34784 C190.05432,293.67802 189.40084,294.04667 187.97904,297.24103 C185.65218,302.46886 180.95536,304.32461 170.05082,304.32461 C162.58541,304.32461 160.5793,304.70999 159.94746,306.26545 C158.93175,308.76592 161.04696,311.92188 164.08899,312.44467 C167.15953,312.97236 181.94915,322.27007 182.72008,324.1574 C183.04443,324.95146 182.49772,328.18448 181.50515,331.34188 C180.04331,335.99213 178.86098,337.4608 175.2811,339.07348 C171.05555,340.97701 170.86112,341.33828 170.8479,347.31205 C170.84027,350.7483 170.48378,355.56183 170.05563,358.00875 L169.27723,362.45771 L162.22019,362.40463 C158.33886,362.37544 151.02325,361.08531 145.96328,359.53768 L145.96327,359.53769 L145.96327,359.53769 Z"
                id="zhongshan"
                data-name-zh="中山區"
                class="district"
                fill-rule="nonzero"
              />
              <path
                d="M97.03006,355.57153 C95.73557,354.75395 95.71793,353.85651 96.94196,351.08858 C97.78367,349.18518 98.63104,342.82296 98.82498,336.95033 C99.01893,331.07771 99.52646,322.26876 99.95286,317.37491 C100.46977,311.44242 100.11234,305.70922 98.88046,300.17225 C97.86424,295.60465 97.20248,291.69474 97.40988,291.48357 C97.61727,291.2724 100.80656,290.70489 104.49718,290.22246 C108.18777,289.74001 112.47626,288.69417 114.02712,287.89834 C116.41327,286.67384 117.62008,286.86772 121.87638,289.15945 C125.29521,291.00026 126.67017,292.43743 126.16971,293.64711 C123.59117,299.8797 121.78834,312.80252 122.52844,319.74768 C124.09296,334.42938 123.88565,351.55266 122.12342,353.20543 C121.21436,354.05805 117.28806,354.81935 113.33225,354.91001 C109.40068,355.0001 104.48844,355.41582 102.41623,355.8338 C100.34403,356.25178 97.92026,356.13377 97.03008,355.57155 L97.03006,355.57153 L97.03006,355.57153 Z"
                id="datong"
                data-name-zh="大同區"
                class="district"
                fill-rule="nonzero"
              />
              <path
                d="M179.82896,361.76431 L171.84181,360.48186 L172.60766,355.20357 C173.02887,352.30051 173.37348,348.13839 173.37348,345.95442 C173.37348,342.57872 173.99841,341.7369 177.54299,340.33784 C181.00776,338.97027 182.19441,337.4435 184.56396,331.30436 L187.41546,323.91662 L184.00563,320.55446 C180.31732,316.91773 166.95561,308.7328 164.707,308.7328 C163.94772,308.7328 163.32645,308.19894 163.32645,307.54642 C163.32645,306.86691 167.13548,306.36003 172.24178,306.36003 C182.06718,306.36003 189.12605,304.00516 190.36635,300.3136 C191.38247,297.28917 194.12101,297.47494 201.6308,301.07775 C209.10305,304.66252 211.73273,304.271 218.063,298.63117 C220.63466,296.33994 222.86272,294.60569 223.01406,294.7773 C224.60676,296.58297 227.37635,303.24006 227.37635,305.26296 C227.37635,306.68194 225.94729,310.85122 224.20048,314.52805 L221.02474,321.21318 L223.57255,328.209 C224.98365,332.08357 226.12048,338.26224 226.12048,342.0575 C226.12048,348.02077 226.46986,349.01491 228.81195,349.71715 C230.29238,350.16099 233.68602,349.8437 236.35351,349.01208 C241.57283,347.38488 243.19253,347.89609 242.01352,350.79848 C241.42388,352.25016 239.05617,352.62923 230.57822,352.62923 C220.73049,352.62923 219.01733,353.00872 208.87485,357.43678 C196.4891,362.84425 191.33623,363.61196 179.82895,361.76431 L179.82896,361.76431 L179.82896,361.76431 Z"
                id="songshan"
                data-name-zh="松山區"
                class="district"
                fill-rule="nonzero"
              />
              <path
                d="M69.35654,438.01584 C65.36119,433.99829 62.49723,423.80893 63.47523,417.09146 C64.18669,412.20496 63.63716,410.1455 59.00453,400.33584 C51.68064,384.82736 52.1403,379.97849 61.21697,376.9956 C67.46394,374.94265 87.03915,363.7458 90.06896,360.49249 C92.36652,358.02541 93.4937,357.69263 97.27962,358.36358 C101.05325,359.03237 101.66874,359.5627 101.14919,361.69807 C97.17745,378.02225 95.51295,383.9238 93.78367,387.81338 C92.66032,390.33998 91.74126,393.72532 91.74126,395.33632 C91.74126,398.99528 99.29605,407.50103 104.31739,409.49552 C108.85441,411.29765 109.22249,413.47248 104.9905,413.47248 C101.90463,413.47248 98.76306,416.48885 88.96269,428.8617 C84.89613,433.99573 76.1971,440.63948 73.43593,440.72001 C72.69291,440.74169 70.85718,439.52482 69.35652,438.01584 L69.35654,438.01584 L69.35654,438.01584 Z"
                id="wanhua"
                data-name-zh="萬華區"
                class="district"
                fill-rule="nonzero"
              />
              <path
                d="M143.23236,438.51584 C139.84557,437.38324 137.18146,434.74923 131.62416,427.03879 C125.29934,418.26347 123.60734,416.71593 117.87813,414.46681 C114.06208,412.96872 110.94701,410.88638 110.38851,409.46017 C109.8626,408.11713 108.08163,406.69806 106.43078,406.30665 C104.77996,405.91529 101.32926,403.22173 98.7626,400.32113 L94.09595,395.04721 L97.31422,387.44806 C99.0842,383.26852 100.53241,378.317 100.53241,376.44471 C100.53241,371.06019 104.19476,359.03336 106.29014,357.53679 C109.42376,355.29868 128.56179,356.77976 141.6625,360.2742 L148.25588,362.03288 L148.25588,374.53782 L148.25588,387.04278 L143.54632,386.21715 C140.95607,385.76306 137.94456,384.63592 136.85407,383.71236 C135.76357,382.78876 134.46599,382.03315 133.97055,382.03315 C132.34108,382.03315 126.93071,394.41126 126.91818,398.168 C126.90473,402.19991 131.48069,408.99058 140.02944,417.62482 C142.9367,420.56115 147.99398,426.00063 151.26788,429.7125 L157.22043,436.46145 L153.42848,438.31382 C149.04304,440.45614 149.03515,440.45632 143.23236,438.5158 L143.23236,438.51584 L143.23236,438.51584 Z"
                id="zhongzheng"
                data-name-zh="中正區"
                class="district"
                fill-rule="nonzero"
              />
              <path
                d="M168.45407,443.15313 C163.64904,442.6212 162.55671,441.95004 160.29086,438.13742 C157.40326,433.27856 150.47499,424.95005 138.49858,411.94071 C134.16816,407.23683 130.286,402.16379 129.87156,400.66733 C129.45714,399.1709 130.09407,395.53217 131.28702,392.58134 C132.97111,388.41567 133.91711,387.39942 135.51845,388.03586 C140.0951,389.85484 147.67762,390.68524 149.15517,389.52935 C150.11891,388.77543 150.81396,383.96044 151.03898,376.47886 L151.39558,364.62311 L168.9779,364.78962 C178.64819,364.8812 189.28596,365.00547 192.61734,365.06579 L198.67459,365.17546 L198.26881,381.55878 L197.86316,397.94201 L193.15361,402.49468 C187.95158,407.52344 187.30056,410.17794 190.69599,412.51541 C193.80303,414.65438 206.72215,431.13333 208.67541,435.44917 C209.55428,437.39106 211.39427,440.18106 212.76444,441.64924 C216.97403,446.16032 212.62704,444.64719 206.79976,439.57304 C203.80235,436.96302 200.36827,434.8275 199.16853,434.8275 C197.96878,434.8275 195.44685,436.38516 193.56415,438.28895 C191.1263,440.75433 189.62609,441.44234 188.3508,440.67989 C185.67938,439.08278 181.40912,439.35363 179.76553,441.22443 C177.83128,443.42612 175.1105,443.89008 168.45409,443.15313 L168.45407,443.15313 L168.45407,443.15313 Z"
                id="daan"
                data-name-zh="大安區"
                class="district"
                fill-rule="nonzero"
              />
              <path
                d="M243.35694,434.10525 C241.38244,432.24003 242.68616,429.59758 248.04199,424.60968 C251.9189,420.99913 253.89163,418.03355 254.46595,414.95272 C255.49062,409.45503 261.91357,399.5838 265.0848,398.63301 C268.30889,397.66629 269.47046,393.59609 267.22218,391.14265 C266.21861,390.04751 265.03469,387.28292 264.59124,384.99912 C263.46207,379.18343 258.49205,369.57605 256.61288,369.57605 C253.71531,369.57605 247.21739,362.99715 245.52684,358.35202 C242.95731,351.29118 244.33477,347.28921 249.82397,345.86717 C257.66681,343.83539 263.94257,339.39993 267.41935,333.43148 C271.60319,326.24914 274.27194,326.30385 271.93939,333.52415 C270.82605,336.97023 273.9375,337.88121 279.42432,335.71554 C281.83661,334.76341 285.79037,333.98435 288.21045,333.98435 C294.26706,333.98435 305.50355,329.06802 308.14254,325.26333 C310.64426,321.65645 312.76745,321.16973 312.79545,324.19664 C312.8109,325.85704 313.03682,325.94153 313.9236,324.61848 C315.5869,322.13714 323.44205,327.12408 325.45624,331.94008 C326.3356,334.0432 327.28052,336.16435 327.55582,336.65374 C327.83098,337.14312 326.81748,337.54353 325.30351,337.54353 C323.00011,337.54353 322.6786,338.02386 323.33317,340.48742 C323.98221,342.9305 323.36707,343.88914 319.71723,346.12276 C315.97445,348.41308 315.31676,349.48322 315.30357,353.30263 C315.28988,357.21622 318.43196,364.32659 323.48476,371.81702 C326.67443,376.5457 332.67868,381.0648 337.57988,382.4258 C340.5155,383.24097 342.91737,384.42043 342.91737,385.04674 C342.91737,385.67303 344.18895,386.19722 345.74311,386.21156 C349.03778,386.24193 356.2704,389.46772 364.26734,394.47342 C367.37564,396.41906 370.76652,398.38694 371.80262,398.84646 C372.83872,399.306 374.25159,400.38306 374.94232,401.23997 C375.75475,402.2478 379.74619,402.90222 386.24525,403.09309 C395.1193,403.35372 396.75219,403.06207 400.23162,400.59501 C405.48546,396.86986 411.9908,397.85407 411.9908,402.37403 C411.9908,403.99636 411.41297,406.34373 410.70667,407.59038 C409.3527,409.98041 409.52889,409.9772 390.86338,407.94856 C385.21681,407.33488 383.60212,407.6246 380.4672,409.81409 L376.75594,412.40614 L373.49191,409.98065 C370.7723,407.95981 369.12295,407.67789 363.60424,408.29061 C358.56551,408.85001 356.28308,408.56442 354.06519,407.09687 C348.59972,403.48053 345.56639,404.53925 342.69545,411.06543 C341.2655,414.31598 339.04185,417.28064 337.7415,417.67053 C336.44381,418.05959 335.38208,418.79013 335.38208,419.29394 C335.38208,422.75074 319.57156,423.24142 318.18494,419.82767 C317.80742,418.89804 315.68008,418.21803 313.14961,418.21803 C310.73995,418.21803 307.08885,417.28375 305.03624,416.14185 C301.4821,414.16452 301.24561,414.16452 300.07049,416.14185 C299.35715,417.34214 297.36319,418.21803 295.34373,418.21803 C291.82602,418.21803 290.0625,420.2176 288.28091,426.22617 C287.73774,428.05794 286.53072,428.89554 284.43428,428.89554 C282.75403,428.89554 281.37921,428.2963 281.37921,427.56389 C281.37921,426.63514 280.90424,426.60343 279.80936,427.45915 C278.94594,428.13396 276.82665,428.6834 275.09982,428.68016 C271.01971,428.6725 265.77239,429.52179 264.18936,430.44601 C263.50113,430.84784 259.88168,431.68656 256.14606,432.30983 C252.41057,432.93312 248.20965,433.78546 246.81061,434.20397 C245.41155,434.62248 243.8574,434.57803 243.35694,434.10524 L243.35694,434.10525 L243.35694,434.10525 Z"
                id="nangang"
                data-name-zh="南港區"
                class="district"
                fill-rule="nonzero"
              />
              <path
                d="M215.28285,439.86964 C213.89761,438.07524 212.41404,435.71686 211.98616,434.62883 C211.29141,432.86187 207.24484,427.54275 195.5983,413.08713 L191.94234,408.54943 L196.095,403.66782 L200.24783,398.78619 L200.4813,383.29137 C200.60964,374.76915 200.77957,366.93872 200.85881,365.89036 C200.94811,364.70841 204.86005,362.34208 211.15578,359.66181 C220.23429,355.79677 222.42191,355.33937 231.82934,355.33937 L242.3501,355.33937 L243.67179,359.97657 C244.80685,363.95834 250.71615,370.53646 254.57007,372.10825 C256.02575,372.70194 261.29179,382.79885 261.29329,384.99912 C261.29392,385.97789 262.38855,388.47357 263.72556,390.54508 L266.15669,394.31145 L262.779,396.38221 C257.31529,399.73185 252.49397,407.00924 252.49397,411.9065 C252.49397,415.84409 250.85165,418.47081 244.60377,424.52658 C241.07864,427.94333 237.31213,430.21416 233.34179,431.3165 C230.0608,432.22744 227.37636,433.43456 227.37636,433.999 C227.37636,434.91269 219.09156,443.13222 218.17062,443.13222 C217.96768,443.13222 216.66822,441.66407 215.28285,439.86964 L215.28285,439.86964 Z"
                id="xinyi"
                data-name-zh="信義區"
                class="district"
                fill-rule="nonzero"
              />
              <path
                d="M264.26785,540.77301 C258.82248,541.30393 255.84215,540.78561 248.05757,537.95389 C236.83578,533.8719 231.71002,533.4978 230.82463,536.69627 C229.66507,540.88484 214.33428,541.34216 207.72007,537.38549 C206.23399,536.49651 204.03129,533.21108 202.82527,530.08453 C201.61925,526.95802 198.789,520.82121 196.53594,516.44721 C192.91135,509.411 192.51637,507.69054 193.10902,501.51735 C193.9379,492.881 192.26998,489.40144 187.30098,489.40144 C184.37773,489.40144 183.60432,490.01634 183.01269,492.8108 C181.64424,499.27458 174.62937,498.40005 174.62937,491.76562 C174.62937,488.68637 174.21564,488.43961 167.78028,487.68005 C160.49512,486.82018 160.48084,486.8051 158.97124,478.36494 C158.52743,475.88372 157.35867,473.56159 156.37399,473.20462 C154.5303,472.53628 149.61561,477.28805 145.23734,483.97221 C142.18955,488.62504 141.05557,486.0261 143.85952,480.81449 C148.23166,472.68798 150.73523,462.71028 150.75144,453.34731 C150.76441,445.83605 151.2018,443.67566 152.96543,442.41094 C155.84808,440.3438 158.30292,440.34432 158.30292,442.41211 C158.30292,444.491 159.96048,445.0852 168.60588,446.10564 C173.73497,446.71096 176.49864,446.45268 179.24471,445.1112 C181.69343,443.91495 184.73106,443.52404 188.18079,443.96116 C192.89779,444.5588 193.52309,444.33526 194.597,441.6668 C196.51196,436.9087 199.26975,436.82849 204.09899,441.39049 C207.76591,444.8546 209.33915,445.50501 214.05134,445.50501 C219.6071,445.50501 225.34498,442.37422 229.54488,437.0512 C231.95957,433.99065 237.06585,433.30743 241.02263,435.51541 C244.2618,437.32296 245.21903,437.31679 254.46746,435.42912 C272.3448,431.78023 275.50785,431.25828 276.1373,431.85295 C276.4789,432.17546 276.10239,434.50683 275.30101,437.03368 C273.52331,442.63897 273.37738,453.80973 275.08198,453.80973 C275.76293,453.80973 277.81717,455.94676 279.64686,458.55868 C282.92948,463.24453 282.94631,463.37505 280.92058,468.38607 C277.97265,475.67782 278.29717,480.39316 282.00716,484.17479 C285.72093,487.96031 285.70247,487.85961 283.12629,490.29328 C281.58619,491.74823 281.24522,493.77314 281.69245,498.80986 C282.0152,502.44419 281.72246,506.57953 281.04189,507.99957 C277.87205,514.61391 285.5191,520.22471 300.20475,522.05977 C307.33036,522.95013 319.56867,528.57152 320.7585,531.50062 C321.24816,532.70632 319.59718,533.51598 314.68379,534.47958 C310.97267,535.20737 305.66469,537.35738 302.88818,539.25735 C300.11169,541.15736 296.29331,543.07863 294.40283,543.52683 C292.51249,543.97504 289.51519,545.05686 287.7424,545.93084 C282.01533,548.75412 276.86321,547.98095 273.7333,543.82851 C271.06568,540.28959 270.63893,540.15184 264.26785,540.77301 Z"
                id="wenshan"
                data-name-zh="文山區"
                class="district"
                fill-rule="nonzero"
              />
              <text
                font-family="PingFangSC-Regular, Microsoft JhengHei, DejaVu Sans, sans-serif"
                font-size="40"
                font-weight="700"
                line-spacing="63"
              >
                <tspan
                  id="other"
                  data-name-zh="非台北市民"
                  class="district"
                  x="1"
                  y="540"
                >
                  其他地區
                </tspan>
              </text>
            </g>
          </g>
        </g>
      </svg>
    </div>
    <div class="region-data">
      <div class="region-info">
        <div class="region-title">{{ distData.zh }}</div>
        <div class="region-content">
          案件數量：<br v-if="breakLine" />{{ distData.data.caseCount }} 件
        </div>
        <div class="region-content">
          最關心議題：<br v-if="breakLine" />{{ distData.data.topType }}
        </div>
      </div>
      <div class="region-cases">
        <div class="region-subtitle">最新案件</div>
        <ul>
          <li v-for="(c, index) in selectedDistCases" @click="click(c.id)" class="region-case">
            {{ c.title.length > 30 ? `${c.title.slice(0, 25)}...` : c.title }}
          </li>
        </ul>
      </div>
    </div>
    <svg
      style="width:0;height:0;position:absolute;"
      aria-hidden="true"
      focusable="false"
    >
      <linearGradient id="my-cool-gradient" x2="1" y2="1">
        <stop offset="0%" stop-color="#60B3DF" />
        <stop offset="50%" stop-color="#A16BC6" />
        <stop offset="100%" stop-color="#DB6069" />
      </linearGradient>
      <filter id="dropshadow" height="130%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="3" />
        <!-- stdDeviation is how much to blur -->
        <feOffset dx="2" dy="2" result="offsetblur" />
        <!-- how much to offset -->
        <feComponentTransfer>
          <feFuncA type="linear" slope="0.5" />
          <!-- slope is the opacity of the shadow -->
        </feComponentTransfer>
        <feMerge>
          <feMergeNode />
          <!-- this contains the offset blurred image -->
          <feMergeNode in="SourceGraphic" />
          <!-- this contains the element that the filter is applied to -->
        </feMerge>
      </filter>
    </svg>
  </div>
</template>

<style lang="scss" scoped>
@import "@/assets/css/style.sass";

.report-region {
  width: 100%;
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: center;
  .region-chart {
    width: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    img {
      width: 100%;
    }
  }
  .region-info {
    .region-title {
      font-size: 48px;
      font-weight: bold;
    }
    .region-content {
      font-size: 24px;
    }
  }
  .region-cases {
    ul {
      list-style-type: decimal;
      margin: 0;
      padding-left: 30px;
    }
    li:hover {
      cursor: pointer;
    }
    .region-subtitle {
      font-size: 32px;
      font-weight: bold;
    }
    .region-case {
      font-size: 24px;
    }
  }
  .region-data {
    width: 50%;
    min-height: 500px;
    padding-left: 20px;
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
  }
  svg {
    margin-top: 20px;
  }
  svg path,
  svg text {
    fill: rgba(0, 0, 0, 0.3);
    stroke: #fff;
    stroke-width: 1px;
    -webkit-transition: 0.5s ease;
    -moz-transition: 0.5s ease;
    -o-transition: 0.5s ease;
    transition: 0.5s ease;
    &:hover {
      cursor: pointer;
      fill: url(#my-cool-gradient) #d2889a;
      transform: translateY(-5px);
      -webkit-transition: 0.5s ease;
      -moz-transition: 0.5s ease;
      -o-transition: 0.5s ease;
      transition: 0.5s ease;
      filter: url(#dropshadow);
    }
    &.active {
      fill: url(#my-cool-gradient) #d2889a;
      filter: url(#dropshadow);
    }
    tspan.active {
      fill: url(#my-cool-gradient) #d2889a;
      filter: url(#dropshadow);
    }
  }

  @media screen and (max-width: $break_small) {
    flex-direction: column;
    align-items: center;
    justify-content: center;
    svg {
      height: 300px;
      margin-bottom: 20px;
      margin-top: 0;
    }
    .region-chart {
      width: 100%;
      max-width: 300px;
    }
    .region-info {
      min-width: 30%;
      .region-title {
        font-size: 1.5rem;
        font-weight: bold;
      }
      .region-content {
        font-size: 1rem;
      }
    }
    .region-cases {
      min-width: 50%;
      margin-left: 10px;
      margin-top: 6px;
      ul {
        padding-left: 20px;
      }
      .region-subtitle {
        font-size: 1.2rem;
        font-weight: bold;
      }
      .region-case {
        font-size: 1rem;
      }
    }
    .region-data {
      flex-direction: row;
      width: 100%;
      // max-width: 300px;
      padding-left: 0px;
      min-height: initial;
    }
  }
}
</style>

<script>
export default {
  name: "SvgMap",
  props: {},
  data() {
    return {
      selectedDist: "總計",
      selectedDistCases: [],
      dataAllDists: {
        總計: {
          en: "all",
          zh: "總計",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        非台北市民: {
          en: "other",
          zh: "非台北市民",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        北投區: {
          en: "beitou",
          zh: "北投區",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        士林區: {
          en: "shilin",
          zh: "士林區",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        內湖區: {
          en: "neihu",
          zh: "內湖區",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        中山區: {
          en: "zhongshan",
          zh: "中山區",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        大同區: {
          en: "datong",
          zh: "大同區",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        中正區: {
          en: "zhongzheng",
          zh: "中正區",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        萬華區: {
          en: "wanhua",
          zh: "萬華區",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        大安區: {
          en: "daan",
          zh: "大安區",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        信義區: {
          en: "xinyi",
          zh: "信義區",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        松山區: {
          en: "songshan",
          zh: "松山區",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        南港區: {
          en: "nangang",
          zh: "南港區",
          data: {
            caseCount: 0,
            topType: ""
          }
        },
        文山區: {
          en: "wenshan",
          zh: "文山區",
          data: {
            caseCount: 0,
            topType: ""
          }
        }
      }
    };
  },
  watch: {},
  methods: {
    click(id) {
      this.$parent.$parent.$parent.$parent.click(id);
    }
  },
  computed: {
    distData() {
      return this.dataAllDists[this.selectedDist];
    },
    breakLine() {
      return window.innerWidth < 500;
    }
  },
  mounted() {
    // load region data
    let _this = this;
    axios
      .get("/api/cases/insights/case_region_case_count_and_top_type")
      .then(res => {
        res.data.forEach(distData => {
          _this.dataAllDists[distData.region_name]["data"] = {
            caseCount: distData.case_counts,
            topType: distData.top_type_name
          };
        });
      });
    axios
      .get(`/api/cases?region=&ordering=-id&limit=3`)
      .then(res => (_this.selectedDistCases = res.data.results));

    let districts = document.querySelectorAll(".district");
    districts.forEach(district => {
      district.addEventListener("click", event => {
        let el = event.target;
        let nameZh = el.dataset.nameZh;
        nameZh = nameZh === "總計" ? "" : nameZh;
        _this.selectedDist = el.dataset.nameZh;
        axios
          .get(`/api/cases?region=${nameZh}&ordering=-id&limit=3`)
          .then(res => (_this.selectedDistCases = res.data.results));
        districts.forEach(dist => {
          dist.classList.remove("active");
        });
        el.classList.add("active");
      });
    });
  }
};
</script>
